'use client'

import { useEffect, useState } from 'react';
import styles from './navbar.module.css'
import Link from 'next/link';
import { usePathname } from 'next/navigation';

function Navbar() {

  const pathname = usePathname();

  const [isScrolled, setIsScrolled] = useState(false);
  const [isDark, setIsDark] = useState(false);
  
  const navScroll = () =>{
     if (window.scrollY >= 200) {
      setIsScrolled(true);
     }
     else {
      setIsScrolled(false);
     }
  };
  
  useEffect(() => { 
    window.addEventListener('scroll', navScroll);
  });

  useEffect(() => { 
        // if(!router.isReady) {
        //   // Do Nothing
        // } 
        // else {
          console.log(pathname)
          if (pathname.startsWith("/work/")) {
            setIsDark(true);
          }
          else {
            setIsDark(false);
          }
        // }

    },[pathname]);
  
  return (
    <div className={`${styles.navbar} ${isScrolled ? styles.scrolled : ''} ${isDark ? styles.dark : styles.light}`}>
      <Link className={styles.homelink} href="/">
        <svg className={styles.brand} viewBox="0 0 67 23" fill="black" xmlns="http://www.w3.org/2000/svg">
          <path d="M6.84091 18H0.125V0.545471H6.77273C8.56818 0.545471 10.1193 0.894903 11.4261 1.59377C12.7386 2.28695 13.75 3.28695 14.4602 4.59377C15.1761 5.8949 15.5341 7.45456 15.5341 9.27274C15.5341 11.0909 15.179 12.6534 14.4688 13.9602C13.7585 15.2614 12.7528 16.2614 11.4517 16.9602C10.1506 17.6534 8.61364 18 6.84091 18ZM4.86364 13.9773H6.67045C7.53409 13.9773 8.26989 13.8381 8.87784 13.5597C9.49148 13.2813 9.95739 12.8012 10.2756 12.1193C10.5994 11.4375 10.7614 10.4887 10.7614 9.27274C10.7614 8.05684 10.5966 7.10797 10.267 6.42615C9.94318 5.74433 9.46591 5.26422 8.83523 4.98581C8.21023 4.7074 7.44318 4.5682 6.53409 4.5682H4.86364V13.9773Z"/>
          <path d="M20.6584 22.9091C20.1186 22.9091 19.6044 22.8665 19.1158 22.7813C18.6271 22.7017 18.1982 22.5909 17.8288 22.4489L18.8516 19.108C19.2379 19.2443 19.5902 19.3324 19.9084 19.3722C20.2322 19.4119 20.5078 19.3892 20.7351 19.304C20.968 19.2188 21.1357 19.0568 21.2379 18.8182L21.3402 18.5796L16.7379 4.90911H21.647L23.7607 13.9773H23.897L26.0447 4.90911H30.9879L26.2152 19.0909C25.9766 19.8125 25.63 20.4602 25.1754 21.0341C24.7266 21.6137 24.1357 22.071 23.4027 22.4063C22.6697 22.7415 21.755 22.9091 20.6584 22.9091Z"/>
          <path d="M37.0305 0.545471V18H32.326V0.545471H37.0305Z"/>
          <path d="M43.0753 18.2046C42.2401 18.2046 41.5014 18.0682 40.8594 17.7955C40.223 17.5171 39.723 17.0966 39.3594 16.5341C38.9957 15.9716 38.8139 15.2557 38.8139 14.3864C38.8139 13.6705 38.9361 13.0597 39.1804 12.554C39.4247 12.0426 39.7656 11.625 40.2031 11.3012C40.6406 10.9773 41.1491 10.7301 41.7287 10.5597C42.3139 10.3892 42.9446 10.2784 43.6207 10.2273C44.3537 10.1705 44.9418 10.1023 45.3849 10.0227C45.8338 9.93752 46.1577 9.82104 46.3565 9.67331C46.5554 9.5199 46.6548 9.3182 46.6548 9.0682V9.03411C46.6548 8.6932 46.5241 8.43184 46.2628 8.25002C46.0014 8.0682 45.6662 7.97729 45.2571 7.97729C44.8082 7.97729 44.4418 8.07672 44.1577 8.27559C43.8793 8.46877 43.7116 8.76706 43.6548 9.17047H39.3253C39.3821 8.37502 39.6349 7.64206 40.0838 6.97161C40.5384 6.29547 41.2003 5.7557 42.0696 5.35229C42.9389 4.9432 44.0241 4.73865 45.3253 4.73865C46.2628 4.73865 47.1037 4.84945 47.848 5.07104C48.5923 5.28695 49.2259 5.59093 49.7486 5.98297C50.2713 6.36934 50.669 6.82388 50.9418 7.34661C51.2202 7.86365 51.3594 8.42615 51.3594 9.03411V18H46.9616V16.1591H46.8594C46.598 16.6477 46.2798 17.0426 45.9048 17.3438C45.5355 17.6449 45.1122 17.8637 44.6349 18C44.1634 18.1364 43.6435 18.2046 43.0753 18.2046ZM44.6094 15.2387C44.9673 15.2387 45.3026 15.1648 45.6151 15.0171C45.9332 14.8693 46.1918 14.6563 46.3906 14.3779C46.5895 14.0994 46.6889 13.7614 46.6889 13.3637V12.2727C46.5639 12.3239 46.4304 12.3722 46.2884 12.4176C46.152 12.4631 46.0043 12.5057 45.8452 12.5455C45.6918 12.5852 45.527 12.6222 45.3509 12.6563C45.1804 12.6904 45.0014 12.7216 44.8139 12.75C44.4503 12.8068 44.152 12.9006 43.919 13.0313C43.6918 13.1563 43.5213 13.3125 43.4077 13.5C43.2997 13.6818 43.2457 13.8864 43.2457 14.1137C43.2457 14.4773 43.3736 14.7557 43.6293 14.9489C43.8849 15.1421 44.2116 15.2387 44.6094 15.2387Z"/>
          <path d="M58.3118 10.6364V18H53.6072V4.90911H58.0732V7.39774H58.2095C58.4936 6.5682 58.9936 5.91763 59.7095 5.44604C60.4311 4.97445 61.272 4.73865 62.2322 4.73865C63.1584 4.73865 63.9624 4.95172 64.6442 5.37786C65.3317 5.79831 65.8629 6.37786 66.2379 7.11649C66.6186 7.85513 66.8061 8.69888 66.8004 9.64774V18H62.0959V10.6364C62.1016 9.98865 61.9368 9.48013 61.6016 9.11081C61.272 8.74149 60.8118 8.55684 60.2209 8.55684C59.8345 8.55684 59.4964 8.64206 59.2067 8.81252C58.9226 8.97729 58.7038 9.21593 58.5504 9.52843C58.397 9.83524 58.3175 10.2046 58.3118 10.6364Z"/>
        </svg>
      </Link>
      <div className={styles.menu}>
        <ul>
          <li><Link href="/about">About</Link></li>
          <li><Link href="/work">Work</Link></li>
        </ul>
      </div>
    </div>
  )
}

export default Navbar